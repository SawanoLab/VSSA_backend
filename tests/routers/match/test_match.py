from tests.conftest import test_db  # noqa: F401
from tests.constants import SEASON_ID, USER_ID, TEAM_ONE_ID, TEAM_TWO_ID, NOT_EXIST_USER_ID  # noqa: F401
from tests.constants.team import TEAM_DATA_JSON, TEAM_CREATE_DATA_JSON

MATCH_DATA_JSON = [{'uuid': '80ceca3f-7f16-496e-9d76-9f42996fedbb', 'home_team': {'team_name': 'Team 1', 'players': {'68ef9a7a-dae2-456f-891c-831b04901b3f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b3f', 'name': 'Player 5', 'player_number': 5, 'code': 'PL5', 'postion': 'Middle Blocker', 'weight': 81, 'height': 186}, 'onCourt': True, 'zone_code': 'Z3', 'libero': False}, '68ef9a7a-dae2-456f-891c-831b04901b9f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b9f', 'name': 'Player 2', 'player_number': 2, 'code': 'PL2', 'postion': 'Middle Blocker', 'weight': 80, 'height': 185}, 'onCourt': True, 'zone_code': 'Z6', 'libero': True}, '68ef9a7a-dae2-456f-891c-831b04901b7f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b7f', 'name': 'Player 9', 'player_number': 9, 'code': 'PL9', 'postion': 'Middle Blocker', 'weight': 80, 'height': 184}, 'onCourt': True, 'zone_code': 'Z3', 'libero': False}, '68ef9a7a-dae2-456f-891c-831b04901b1f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b1f', 'name': 'Player 3', 'player_number': 3, 'code': 'PL3', 'postion': 'Setter', 'weight': 70, 'height': 175}, 'onCourt': True, 'zone_code': 'Z1', 'libero': False}, '68ef9a7a-dae2-456f-891c-831b04901b6f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b6f', 'name': 'Player 8', 'player_number': 8, 'code': 'PL8', 'postion': 'Wing Spiker', 'weight': 76, 'height': 179}, 'onCourt': True, 'zone_code': 'Z6', 'libero': False}, '68ef9a7a-dae2-456f-891c-831b04901b2f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b2f', 'name': 'Player 4', 'player_number': 4, 'code': 'PL4', 'postion': 'Wing Spiker', 'weight': 78, 'height': 182}, 'onCourt': True, 'zone_code': 'Z2', 'libero': True}, '68ef9a7a-dae2-456f-891c-831b04901b5f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b5f', 'name': 'Player 7', 'player_number': 7, 'code': 'PL7', 'postion': 'Libero', 'weight': 67, 'height': 172}, 'onCourt': True, 'zone_code': 'Z5', 'libero': True}, '68ef9a7a-dae2-456f-891c-831b04901b4f': {
    'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b4f', 'name': 'Player 6', 'player_number': 6, 'code': 'PL6', 'postion': 'Opposite', 'weight': 77, 'height': 181}, 'onCourt': True, 'zone_code': 'Z4', 'libero': False}, '68ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '68ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 1', 'player_number': 1, 'code': 'PL1', 'postion': 'Wing Spiker', 'weight': 75, 'height': 180}, 'onCourt': True, 'zone_code': 'Z5', 'libero': False}, '18ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '18ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 10', 'player_number': 10, 'code': 'PL10', 'postion': 'Setter', 'weight': 72, 'height': 176}, 'onCourt': True, 'zone_code': 'Z2', 'libero': True}}, 'setter_postion': 'Z1'}, 'away_team': {'team_name': 'Team 2', 'players': {'48ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '48ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 13', 'player_number': 13, 'code': 'PL13', 'postion': 'Opposite', 'weight': 75, 'height': 180}, 'onCourt': True, 'zone_code': 'Z5', 'libero': True}, '58ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '58ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 14', 'player_number': 14, 'code': 'PL14', 'postion': 'Libero', 'weight': 69, 'height': 171}, 'onCourt': True, 'zone_code': 'Z6', 'libero': False}, '28ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '28ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 11', 'player_number': 11, 'code': 'PL11', 'postion': 'Wing Spiker', 'weight': 74, 'height': 178}, 'onCourt': True, 'zone_code': 'Z3', 'libero': False}, '38ef9a7a-dae2-456f-891c-831b04901b8f': {'PlayerInfo': {'uuid': '38ef9a7a-dae2-456f-891c-831b04901b8f', 'name': 'Player 12', 'player_number': 12, 'code': 'PL12', 'postion': 'Middle Blocker', 'weight': 82, 'height': 186}, 'onCourt': True, 'zone_code': 'Z4', 'libero': False}}, 'setter_postion': 'Z1'}, 'season_name': 'Summer 2022', 'home_team_score': 0, 'away_team_score': 0}]


def test_get_match(client):
    res = client.get(f'/matches/?user_id={USER_ID}')
    print("USER_ID: ", USER_ID)
    data = res.json()
    print("DATA: ", data)
    assert res.status_code == 200
    assert data == TEAM_DATA_JSON
